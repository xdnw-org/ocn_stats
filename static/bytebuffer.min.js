!function(t,e){"function"==typeof define&&define.amd?define(["long"],e):"function"==typeof require&&"object"==typeof module&&module&&module.exports?module.exports=function(){var t;try{t=require("long")}catch(t){}return e(t)}():(t.dcodeIO=t.dcodeIO||{}).ByteBuffer=e(t.dcodeIO.Long)}(this,function(s){"use strict";var b=function(t,e,r){if(void 0===t&&(t=b.DEFAULT_CAPACITY),void 0===e&&(e=b.DEFAULT_ENDIAN),void 0===r&&(r=b.DEFAULT_NOASSERT),!r){if((t|=0)<0)throw RangeError("Illegal capacity");e=!!e,r=!!r}this.buffer=0===t?f:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=e,this.noAssert=r};b.VERSION="5.0.1",b.LITTLE_ENDIAN=!0,b.BIG_ENDIAN=!1,b.DEFAULT_CAPACITY=16,b.DEFAULT_ENDIAN=b.BIG_ENDIAN,b.DEFAULT_NOASSERT=!1,b.Long=s||null;var o=b.prototype;o.__isByteBuffer__,Object.defineProperty(o,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var f=new ArrayBuffer(0),r=String.fromCharCode;function h(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function a(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+r.apply(String,t);1024<t.length+arguments.length&&(e.push(r.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function i(t,e,r,i,n){var f,o,s=8*n-i-1,h=(1<<s)-1,a=h>>1,l=-7,u=r?n-1:0,g=r?-1:1,r=t[e+u];for(u+=g,f=r&(1<<-l)-1,r>>=-l,l+=s;0<l;f=256*f+t[e+u],u+=g,l-=8);for(o=f&(1<<-l)-1,f>>=-l,l+=i;0<l;o=256*o+t[e+u],u+=g,l-=8);if(0===f)f=1-a;else{if(f===h)return o?NaN:1/0*(r?-1:1);o+=Math.pow(2,i),f-=a}return(r?-1:1)*o*Math.pow(2,f-i)}function n(t,e,r,i,n,f){var o,s,h=8*f-n-1,a=(1<<h)-1,l=a>>1,u=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:f-1,w=i?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=a):(o=Math.floor(Math.log(e)/Math.LN2),e*(i=Math.pow(2,-o))<1&&(o--,i*=2),2<=(e+=1<=o+l?u/i:u*Math.pow(2,1-l))*i&&(o++,i/=2),a<=o+l?(s=0,o=a):1<=o+l?(s=(e*i-1)*Math.pow(2,n),o+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,n),o=0));8<=n;t[r+g]=255&s,g+=w,s/=256,n-=8);for(o=o<<n|s,h+=n;0<h;t[r+g]=255&o,g+=w,o/=256,h-=8);t[r+g-w]|=128*f}b.accessor=function(){return Uint8Array},b.allocate=function(t,e,r){return new b(t,e,r)},b.concat=function(t,e,r,i){"boolean"!=typeof e&&"string"==typeof e||(i=r,r=e,e=void 0);for(var n,f=0,o=0,s=t.length;o<s;++o)b.isByteBuffer(t[o])||(t[o]=b.wrap(t[o],e)),0<(n=t[o].limit-t[o].offset)&&(f+=n);if(0===f)return new b(0,r,i);for(var h,a=new b(f,r,i),o=0;o<s;)(n=(h=t[o++]).limit-h.offset)<=0||(a.view.set(h.view.subarray(h.offset,h.limit),a.offset),a.offset+=n);return a.limit=a.offset,a.offset=0,a},b.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},b.type=function(){return ArrayBuffer},b.wrap=function(t,e,r,i){if("string"!=typeof e&&(i=r,r=e,e=void 0),"string"==typeof t)switch(void 0===e&&(e="utf8"),e){case"base64":return b.fromBase64(t,r);case"hex":return b.fromHex(t,r);case"binary":return b.fromBinary(t,r);case"utf8":return b.fromUTF8(t,r);case"debug":return b.fromDebug(t,r);default:throw Error("Unsupported encoding: "+e)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var n;if(b.isByteBuffer(t))return(n=o.clone.call(t)).markedOffset=-1,n;if(t instanceof Uint8Array)n=new b(0,r,i),0<t.length&&(n.buffer=t.buffer,n.offset=t.byteOffset,n.limit=t.byteOffset+t.byteLength,n.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)n=new b(0,r,i),0<t.byteLength&&(n.buffer=t,n.offset=0,n.limit=t.byteLength,n.view=0<t.byteLength?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(n=new b(t.length,r,i)).limit=t.length;for(var f=0;f<t.length;++f)n.view[f]=t[f]}return n},o.writeBitSet=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e,n=t.length,f=n>>3,o=0;for(e+=this.writeVarint32(n,e);f--;)h=1&!!t[o++]|(1&!!t[o++])<<1|(1&!!t[o++])<<2|(1&!!t[o++])<<3|(1&!!t[o++])<<4|(1&!!t[o++])<<5|(1&!!t[o++])<<6|(1&!!t[o++])<<7,this.writeByte(h,e++);if(o<n){for(var s=0,h=0;o<n;)h|=(1&!!t[o++])<<s++;this.writeByte(h,e++)}return r?(this.offset=e,this):e-i},o.readBitSet=function(t){var e=void 0===t;e&&(t=this.offset);var r=this.readVarint32(t),i=r.value,n=i>>3,f=0,o=[];for(t+=r.length;n--;)h=this.readByte(t++),o[f++]=!!(1&h),o[f++]=!!(2&h),o[f++]=!!(4&h),o[f++]=!!(8&h),o[f++]=!!(16&h),o[f++]=!!(32&h),o[f++]=!!(64&h),o[f++]=!!(128&h);if(f<i)for(var s=0,h=this.readByte(t++);f<i;)o[f++]=!!(h>>s++&1);return e&&(this.offset=t),o},o.readBytes=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}e=this.slice(e,e+t);return r&&(this.offset+=t),e},o.writeInt8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var i=this.buffer.byteLength;return i<e&&this.resize((i*=2)>e?i:e),--e,this.view[e]=t,r&&(this.offset+=1),this},o.writeByte=o.writeInt8,o.readInt8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}t=this.view[t];return 128==(128&t)&&(t=-(255-t+1)),e&&(this.offset+=1),t},o.readByte=o.readInt8,o.writeUint8=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var i=this.buffer.byteLength;return i<e&&this.resize((i*=2)>e?i:e),--e,this.view[e]=t,r&&(this.offset+=1),this},o.writeUInt8=o.writeUint8,o.readUint8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}t=this.view[t];return e&&(this.offset+=1),t},o.readUInt8=o.readUint8,o.writeInt16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var i=this.buffer.byteLength;return i<e&&this.resize((i*=2)>e?i:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},o.writeShort=o.writeInt16,o.readInt16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),32768==(32768&r)&&(r=-(65535-r+1)),e&&(this.offset+=2),r},o.readShort=o.readInt16,o.writeUint16=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var i=this.buffer.byteLength;return i<e&&this.resize((i*=2)>e?i:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},o.writeUInt16=o.writeUint16,o.readUint16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),e&&(this.offset+=2),r},o.readUInt16=o.readUint16,o.writeInt32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return i<e&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},o.writeInt=o.writeInt32,o.readInt32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),r|=0,e&&(this.offset+=4),r},o.readInt=o.readInt32,o.writeUint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return i<e&&this.resize((i*=2)>e?i:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},o.writeUInt32=o.writeUint32,o.readUint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),e&&(this.offset+=4),r},o.readUInt32=o.readUint32,s&&(o.writeInt64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=s.fromNumber(t);else if("string"==typeof t)t=s.fromString(t);else if(!(t&&t instanceof s))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=s.fromNumber(t):"string"==typeof t&&(t=s.fromString(t)),e+=8;var i=this.buffer.byteLength;i<e&&this.resize((i*=2)>e?i:e),e-=8;i=t.low,t=t.high;return this.littleEndian?(this.view[e+3]=i>>>24&255,this.view[e+2]=i>>>16&255,this.view[e+1]=i>>>8&255,this.view[e]=255&i,e+=4,this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t,e+=4,this.view[e]=i>>>24&255,this.view[e+1]=i>>>16&255,this.view[e+2]=i>>>8&255,this.view[e+3]=255&i),r&&(this.offset+=8),this},o.writeLong=o.writeInt64,o.readInt64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);i=new s(r,i,!1);return e&&(this.offset+=8),i},o.readLong=o.readInt64,o.writeUint64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=s.fromNumber(t);else if("string"==typeof t)t=s.fromString(t);else if(!(t&&t instanceof s))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=s.fromNumber(t):"string"==typeof t&&(t=s.fromString(t)),e+=8;var i=this.buffer.byteLength;i<e&&this.resize((i*=2)>e?i:e),e-=8;i=t.low,t=t.high;return this.littleEndian?(this.view[e+3]=i>>>24&255,this.view[e+2]=i>>>16&255,this.view[e+1]=i>>>8&255,this.view[e]=255&i,e+=4,this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t,e+=4,this.view[e]=i>>>24&255,this.view[e+1]=i>>>16&255,this.view[e+2]=i>>>8&255,this.view[e+3]=255&i),r&&(this.offset+=8),this},o.writeUInt64=o.writeUint64,o.readUint64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);i=new s(r,i,!0);return e&&(this.offset+=8),i},o.readUInt64=o.readUint64),o.writeFloat32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return i<e&&this.resize((i*=2)>e?i:e),e-=4,n(this.view,t,e,this.littleEndian,23,4),r&&(this.offset+=4),this},o.writeFloat=o.writeFloat32,o.readFloat32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}t=i(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),t},o.readFloat=o.readFloat32,o.writeFloat64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var i=this.buffer.byteLength;return i<e&&this.resize((i*=2)>e?i:e),e-=8,n(this.view,t,e,this.littleEndian,52,8),r&&(this.offset+=8),this},o.writeDouble=o.writeFloat64,o.readFloat64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}t=i(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),t},o.readDouble=o.readFloat64,b.MAX_VARINT32_BYTES=5,b.calculateVarint32=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},b.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},b.zigZagDecode32=function(t){return 2147483647<t?Math.round(Math.floor(t/2)-(t%2!=0?1:0)):t>>>1^-(1&t)|0},o.writeVarint32=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,n=b.calculateVarint32(t);e+=n;var f=this.buffer.byteLength;for(f<e&&this.resize((f*=2)>e?f:e),e-=n,t>>>=0;128<=t;)i=127&t|128,this.view[e++]=i,t>>>=7;return this.view[e++]=t,r?(this.offset=e,this):n},o.writeVarint32ZigZag=function(t,e){return this.writeVarint32(b.zigZagEncode32(t),e)},o.readVarint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=0,i=0;do{if(!this.noAssert&&t>this.limit){var n=Error("Truncated");throw n.truncated=!0,n}n=this.view[t++];r<4?i|=(127&n)<<7*r:r<10&&(Number(i),i+=(127&n)*Math.pow(2,7*r)),++r}while(0!=(128&n));return i<=2147483647?i|=0:i=Math.floor(i),e?(this.offset=t,i):{value:i,length:r}},o.readVarint32ZigZag=function(t){t=this.readVarint32(t);return"object"==typeof t?t.value=b.zigZagDecode32(t.value):t=b.zigZagDecode32(t),t},s&&(b.MAX_VARINT64_BYTES=10,b.calculateVarint64=function(t){"number"==typeof t?t=s.fromNumber(t):"string"==typeof t&&(t=s.fromString(t));var e=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,t=t.shiftRightUnsigned(56).toInt()>>>0;return 0==t?0==r?e<16384?e<128?1:2:e<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:t<128?9:10},b.zigZagEncode64=function(t){return"number"==typeof t?t=s.fromNumber(t,!1):"string"==typeof t?t=s.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},b.zigZagDecode64=function(t){return"number"==typeof t?t=s.fromNumber(t,!1):"string"==typeof t?t=s.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(s.ONE).toSigned().negate()).toSigned()},o.writeVarint64=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"==typeof t)t=s.fromNumber(t);else if("string"==typeof t)t=s.fromString(t);else if(!(t&&t instanceof s))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=s.fromNumber(t,!1):"string"==typeof t?t=s.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());var i=b.calculateVarint64(t),n=t.toInt()>>>0,f=t.shiftRightUnsigned(28).toInt()>>>0,o=t.shiftRightUnsigned(56).toInt()>>>0;e+=i;t=this.buffer.byteLength;switch(t<e&&this.resize((t*=2)>e?t:e),e-=i,i){case 10:this.view[e+9]=o>>>7&1;case 9:this.view[e+8]=9!==i?128|o:127&o;case 8:this.view[e+7]=8!==i?f>>>21|128:f>>>21&127;case 7:this.view[e+6]=7!==i?f>>>14|128:f>>>14&127;case 6:this.view[e+5]=6!==i?f>>>7|128:f>>>7&127;case 5:this.view[e+4]=5!==i?128|f:127&f;case 4:this.view[e+3]=4!==i?n>>>21|128:n>>>21&127;case 3:this.view[e+2]=3!==i?n>>>14|128:n>>>14&127;case 2:this.view[e+1]=2!==i?n>>>7|128:n>>>7&127;case 1:this.view[e]=1!==i?128|n:127&n}return r?(this.offset+=i,this):i},o.writeVarint64ZigZag=function(t,e){return this.writeVarint64(b.zigZagEncode64(t),e)},o.readVarint64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,n=0,f=0,o=0,i=127&(o=this.view[t++]);if(128&o&&(o=this.view[t++],i|=(127&o)<<7,(128&o||this.noAssert&&void 0===o)&&(o=this.view[t++],i|=(127&o)<<14,(128&o||this.noAssert&&void 0===o)&&(o=this.view[t++],i|=(127&o)<<21,(128&o||this.noAssert&&void 0===o)&&(o=this.view[t++],n=127&o,(128&o||this.noAssert&&void 0===o)&&(o=this.view[t++],n|=(127&o)<<7,(128&o||this.noAssert&&void 0===o)&&(o=this.view[t++],n|=(127&o)<<14,(128&o||this.noAssert&&void 0===o)&&(o=this.view[t++],n|=(127&o)<<21,(128&o||this.noAssert&&void 0===o)&&(o=this.view[t++],f=127&o,(128&o||this.noAssert&&void 0===o)&&(f|=(127&(o=this.view[t++]))<<7,128&o||this.noAssert&&void 0===o))))))))))throw Error("Buffer overrun");f=s.fromBits(i|n<<28,n>>>4|f<<24,!1);return e?(this.offset=t,f):{value:f,length:t-r}},o.readVarint64ZigZag=function(t){t=this.readVarint64(t);return t&&t.value instanceof s?t.value=b.zigZagDecode64(t.value):t=b.zigZagDecode64(t),t}),o.writeCString=function(t,e){var r=void 0===e;r&&(e=this.offset);var i,n=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(i=0;i<n;++i)if(0===t.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}n=g.calculateUTF16asUTF8(h(t))[1],e+=n+1;var f=this.buffer.byteLength;return f<e&&this.resize((f*=2)>e?f:e),e-=n+1,g.encodeUTF16toUTF8(h(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,r?(this.offset=e,this):n},o.readCString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,i=t,n=-1;return g.decodeUTF8toUTF16(function(){if(0===n)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return 0===(n=this.view[t++])?null:n}.bind(this),r=a(),!0),e?(this.offset=t,r()):{string:r(),length:t-i}},o.writeIString=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e,n=g.calculateUTF16asUTF8(h(t),this.noAssert)[1];e+=4+n;var f=this.buffer.byteLength;if(f<e&&this.resize((f*=2)>e?f:e),e-=4+n,this.littleEndian?(this.view[e+3]=n>>>24&255,this.view[e+2]=n>>>16&255,this.view[e+1]=n>>>8&255,this.view[e]=255&n):(this.view[e]=n>>>24&255,this.view[e+1]=n>>>16&255,this.view[e+2]=n>>>8&255,this.view[e+3]=255&n),e+=4,g.encodeUTF16toUTF8(h(t),function(t){this.view[e++]=t}.bind(this)),e!==i+4+n)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+n));return r?(this.offset=e,this):e-i},o.readIString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=t,i=this.readUint32(t),i=this.readUTF8String(i,b.METRICS_BYTES,t+=4);return t+=i.length,e?(this.offset=t,i.string):{string:i.string,length:t-r}},b.METRICS_CHARS="c",b.METRICS_BYTES="b",o.writeUTF8String=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e,n=g.calculateUTF16asUTF8(h(t))[1];e+=n;var f=this.buffer.byteLength;return f<e&&this.resize((f*=2)>e?f:e),e-=n,g.encodeUTF16toUTF8(h(t),function(t){this.view[e++]=t}.bind(this)),r?(this.offset=e,this):e-i},o.writeString=o.writeUTF8String,b.calculateUTF8Chars=function(t){return g.calculateUTF16asUTF8(h(t))[0]},b.calculateUTF8Bytes=function(t){return g.calculateUTF16asUTF8(h(t))[1]},b.calculateString=b.calculateUTF8Bytes,o.readUTF8String=function(t,e,r){"number"==typeof e&&(r=e,e=void 0);var i=void 0===r;if(i&&(r=this.offset),void 0===e&&(e=b.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,f=0,o=r;if(e===b.METRICS_CHARS){if(n=a(),g.decodeUTF8(function(){return f<t&&r<this.limit?this.view[r++]:null}.bind(this),function(t){++f,g.UTF8toUTF16(t,n)}),f!==t)throw RangeError("Illegal range: Truncated data, "+f+" == "+t);return i?(this.offset=r,n()):{string:n(),length:r-o}}if(e!==b.METRICS_BYTES)throw TypeError("Unsupported metrics: "+e);if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var s=r+t;if(g.decodeUTF8toUTF16(function(){return r<s?this.view[r++]:null}.bind(this),n=a(),this.noAssert),r!==s)throw RangeError("Illegal range: Truncated data, "+r+" == "+s);return i?(this.offset=r,n()):{string:n(),length:r-o}},o.readString=o.readUTF8String,o.writeVString=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e,n=g.calculateUTF16asUTF8(h(t),this.noAssert)[1],f=b.calculateVarint32(n);e+=f+n;var o=this.buffer.byteLength;if(o<e&&this.resize((o*=2)>e?o:e),e-=f+n,e+=this.writeVarint32(n,e),g.encodeUTF16toUTF8(h(t),function(t){this.view[e++]=t}.bind(this)),e!==i+n+f)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+n+f));return r?(this.offset=e,this):e-i},o.readVString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=this.readVarint32(t),i=this.readUTF8String(i.value,b.METRICS_BYTES,t+=i.length);return t+=i.length,e?(this.offset=t,i.string):{string:i.string,length:t-r}},o.append=function(t,e,r){"number"!=typeof e&&"string"==typeof e||(r=e,e=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof b||(t=b.wrap(t,e));var n=t.limit-t.offset;if(n<=0)return this;r+=n;e=this.buffer.byteLength;return e<r&&this.resize((e*=2)>r?e:r),r-=n,this.view.set(t.view.subarray(t.offset,t.limit),r),t.offset+=n,i&&(this.offset+=n),this},o.appendTo=function(t,e){return t.append(this,e),this},o.writeBytes=o.append,o.assert=function(t){return this.noAssert=!t,this},o.capacity=function(){return this.buffer.byteLength},o.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},o.clone=function(t){var e=new b(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),e.view=new Uint8Array(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e},o.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var r=e-t;if(0==r)return this.buffer=f,this.view=null,0<=this.markedOffset&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(r),n=new Uint8Array(i);return n.set(this.view.subarray(t,e)),this.buffer=i,this.view=n,0<=this.markedOffset&&(this.markedOffset-=t),this.offset=0,this.limit=r,this},o.copy=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new b(0,this.littleEndian,this.noAssert);var r=e-t,i=new b(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,0<=i.markedOffset&&(i.markedOffset-=t),this.copyTo(i,0,t,e),i},o.copyTo=function(t,e,r,i){var n,f;if(!this.noAssert&&!b.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(e=(f=void 0===e)?t.offset:0|e,r=(n=void 0===r)?this.offset:0|r,i=void 0===i?this.limit:0|i,e<0||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var o=i-r;return 0==o?t:(t.ensureCapacity(e+o),t.view.set(this.view.subarray(r,i),e),n&&(this.offset+=o),f&&(t.offset+=o),this)},o.ensureCapacity=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},o.fill=function(t,e,r){var i=void 0===e;if(i&&(e=this.offset),"string"==typeof t&&0<t.length&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(r<=e)return this;for(;e<r;)this.view[e++]=t;return i&&(this.offset=e),this},o.flip=function(){return this.limit=this.offset,this.offset=0,this},o.mark=function(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},o.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},o.LE=function(t){return this.littleEndian=void 0===t||!!t,this},o.BE=function(t){return this.littleEndian=void 0!==t&&!t,this},o.prepend=function(t,e,r){"number"!=typeof e&&"string"==typeof e||(r=e,e=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof b||(t=b.wrap(t,e));var n=t.limit-t.offset;if(n<=0)return this;var f,o=n-r;return 0<o?(f=new ArrayBuffer(this.buffer.byteLength+o),(e=new Uint8Array(f)).set(this.view.subarray(r,this.buffer.byteLength),n),this.buffer=f,this.view=e,this.offset+=o,0<=this.markedOffset&&(this.markedOffset+=o),this.limit+=o,r+=o):new Uint8Array(this.buffer),this.view.set(t.view.subarray(t.offset,t.limit),r-n),t.offset=t.limit,i&&(this.offset-=n),this},o.prependTo=function(t,e){return t.prepend(this,e),this},o.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},o.remaining=function(){return this.limit-this.offset},o.reset=function(){return 0<=this.markedOffset?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},o.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}var e;return this.buffer.byteLength<t&&(e=new ArrayBuffer(t),(t=new Uint8Array(e)).set(this.view),this.buffer=e,this.view=t),this},o.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e||Array.prototype.reverse.call(this.view.subarray(t,e)),this},o.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},o.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.limit=e,r},o.toBuffer=function(t){var e=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&0===e&&r===this.buffer.byteLength)return this.buffer;if(e===r)return f;t=new ArrayBuffer(r-e);return new Uint8Array(t).set(new Uint8Array(this.buffer).subarray(e,r),0),t},o.toArrayBuffer=o.toBuffer,o.toString=function(t,e,r){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(r=e=t="utf8"),t){case"utf8":return this.toUTF8(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.toHex(e,r);case"binary":return this.toBinary(e,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var l=function(){for(var t={},n=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],o=[],e=0,r=n.length;e<r;++e)o[n[e]]=e;return t.encode=function(t,e){for(var r,i;null!==(r=t());)e(n[r>>2&63]),i=(3&r)<<4,null!==(r=t())?(e(n[63&((i|=r>>4&15)|r>>4&15)]),i=(15&r)<<2,null!==(r=t())?(e(n[63&(i|r>>6&3)]),e(n[63&r])):(e(n[63&i]),e(61))):(e(n[63&i]),e(61),e(61))},t.decode=function(t,e){var r,i,n;function f(t){throw Error("Illegal character code: "+t)}for(;null!==(r=t());)if(i=o[r],void 0===i&&f(r),null!==(r=t())&&(void 0===(n=o[r])&&f(r),e(i<<2>>>0|(48&n)>>4),null!==(r=t()))){if(void 0===(i=o[r])){if(61===r)break;f(r)}if(e((15&n)<<4>>>0|(60&i)>>2),null!==(r=t())){if(void 0===(n=o[r])){if(61===r)break;f(r)}e((3&i)<<6>>>0|n)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();o.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity||e<t)throw RangeError("begin, end");var r;return l.encode(function(){return t<e?this.view[t++]:null}.bind(this),r=a()),r()},b.fromBase64=function(t,e){if("string"!=typeof t)throw TypeError("str");var r=new b(t.length/4*3,e),i=0;return l.decode(h(t),function(t){r.view[i++]=t}),r.limit=i,r},b.btoa=function(t){return b.fromBinary(t).toBase64()},b.atob=function(t){return b.fromBase64(t).toBinary()},o.toBinary=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity()||e<t)throw RangeError("begin, end");if(t===e)return"";for(var r=[],i=[];t<e;)r.push(this.view[t++]),1024<=r.length&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},b.fromBinary=function(t,e){if("string"!=typeof t)throw TypeError("str");for(var r,i=0,n=t.length,f=new b(n,e);i<n;){if(255<(r=t.charCodeAt(i)))throw RangeError("illegal char code: "+r);f.view[i++]=r}return f.limit=n,f},o.toDebug=function(t){for(var e,r=-1,i=this.buffer.byteLength,n="",f="",o="";r<i;){if(-1!==r&&(n+=(e=this.view[r])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(f+=32<e&&e<127?String.fromCharCode(e):".")),++r,t&&0<r&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+f+"\n",n=f=""}r===this.offset&&r===this.limit?n+=r===this.markedOffset?"!":"|":r===this.offset?n+=r===this.markedOffset?"[":"<":r===this.limit?n+=r===this.markedOffset?"]":">":n+=r===this.markedOffset?"'":t||0!==r&&r!==i?" ":""}if(t&&" "!==n){for(;n.length<51;)n+=" ";o+=n+f+"\n"}return t?o:n},b.fromDebug=function(t,e,r){for(var i,n,f=t.length,o=new b((f+1)/3|0,e,r),s=0,h=0,a=!1,l=!1,u=!1,g=!1,w=!1;s<f;){switch(i=t.charAt(s++)){case"!":if(!r){if(l||u||g){w=!0;break}l=u=g=!0}o.offset=o.markedOffset=o.limit=h,a=!1;break;case"|":if(!r){if(l||g){w=!0;break}l=g=!0}o.offset=o.limit=h,a=!1;break;case"[":if(!r){if(l||u){w=!0;break}l=u=!0}o.offset=o.markedOffset=h,a=!1;break;case"<":if(!r){if(l){w=!0;break}l=!0}o.offset=h,a=!1;break;case"]":if(!r){if(g||u){w=!0;break}g=u=!0}o.limit=o.markedOffset=h,a=!1;break;case">":if(!r){if(g){w=!0;break}g=!0}o.limit=h,a=!1;break;case"'":if(!r){if(u){w=!0;break}u=!0}o.markedOffset=h,a=!1;break;case" ":a=!1;break;default:if(!r&&a){w=!0;break}if(n=parseInt(i+t.charAt(s++),16),!r&&(isNaN(n)||n<0||255<n))throw TypeError("Illegal str: Not a debug encoded string");o.view[h++]=n,a=!0}if(w)throw TypeError("Illegal str: Invalid symbol at "+s)}if(!r){if(!l||!g)throw TypeError("Illegal str: Missing offset or limit");if(h<o.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+h+" < "+f)}return o},o.toHex=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var r,i=new Array(e-t);t<e;)(r=this.view[t++])<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},b.fromHex=function(t,e,r){if(!r){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,n=t.length,f=new b(n/2|0,e),o=0,s=0;o<n;o+=2){if(i=parseInt(t.substring(o,o+2),16),!r&&(!isFinite(i)||i<0||255<i))throw TypeError("Illegal str: Contains non-hex characters");f.view[s++]=i}return f.limit=s,f};var u,g=u={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):(r<2048?e(r>>6&31|192):(r<65536?e(r>>12&15|224):(e(r>>18&7|240),e(r>>12&63|128)),e(r>>6&63|128)),e(63&r|128)),r=null},decodeUTF8:function(t,e){for(var r,i,n,f,o=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0==(128&r))e(r);else if(192==(224&r))null===(i=t())&&o([r,i]),e((31&r)<<6|63&i);else if(224==(240&r))null!==(i=t())&&null!==(n=t())||o([r,i,n]),e((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);null!==(i=t())&&null!==(n=t())&&null!==(f=t())||o([r,i,n,f]),e((7&r)<<18|(63&i)<<12|(63&n)<<6|63&f)}},UTF16toUTF8:function(t,e){for(var r,i=null;null!==(r=null!==i?i:t());)55296<=r&&r<=57343&&null!==(i=t())&&56320<=i&&i<=57343?(e(1024*(r-55296)+i-56320+65536),i=null):e(r);null!==i&&e(i)},UTF8toUTF16:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(e(55296+((r-=65536)>>10)),e(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,e){u.UTF16toUTF8(t,function(t){u.encodeUTF8(t,e)})},decodeUTF8toUTF16:function(t,e){u.decodeUTF8(t,function(t){u.UTF8toUTF16(t,e)})},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){for(var e,r=0;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},calculateUTF16asUTF8:function(t){var e=0,r=0;return u.UTF16toUTF8(t,function(t){++e,r+=t<128?1:t<2048?2:t<65536?3:4}),[e,r]}};return o.toUTF8=function(e,r){if(void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}var t;try{g.decodeUTF8toUTF16(function(){return e<r?this.view[e++]:null}.bind(this),t=a())}catch(t){if(e!==r)throw RangeError("Illegal range: Truncated data, "+e+" != "+r)}return t()},b.fromUTF8=function(t,e,r){if(!r&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var i=new b(g.calculateUTF16asUTF8(h(t),!0)[1],e,r),n=0;return g.encodeUTF16toUTF8(h(t),function(t){i.view[n++]=t}),i.limit=n,i},b});